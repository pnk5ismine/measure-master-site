<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Measure Master ‚Äî How to Use</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/images/mm_logo.png" />
  <link rel="preload" as="image" href="/images/mm_logo.png" />

  <style>
    :root {
      --bg:#050816;
      --card:#121622;
      --border:#1e2230;
      --muted:#9aa4b2;
      --text:#e7edf5;
      --accent:#5eead4;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,'Noto Sans',sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}

    header,main,footer{
      max-width:1100px;
      margin:0 auto;
      padding:16px;
    }

/* ===== Header layout (index/privacy style) ===== */
header{display:flex;flex-direction:column;gap:10px}
.header-top{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
}
.header-bottom{
  display:flex;align-items:center;justify-content:center;
}

.right{display:flex;align-items:center;gap:12px}

nav{
  display:flex;gap:14px;align-items:center;flex-wrap:wrap;
  justify-content:center;
}
nav a{color:#cfd6e4}

.lang{display:flex;gap:6px;align-items:center}
.lang button{
  border:1px solid var(--border);
  background:#0f1320;
  color:#e7edf5;
  border-radius:999px;
  padding:6px 10px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:12px;
}
.lang button.active{outline:2px solid #2dd; font-weight:600}
.lang .flag{line-height:1}
.lang .label{letter-spacing:.04em}

/* ===== Desktop: single-row feel (brand left, nav+lang right) ===== */
@media (min-width: 721px){
  header{flex-direction:row;align-items:center;justify-content:space-between;gap:12px}
  .header-top{flex:0 0 auto}
  .header-bottom{flex:1 1 auto;justify-content:flex-end}
  .right{justify-content:flex-end}
  nav{justify-content:flex-end}
}

/* ===== Mobile: 2 rows (brand left + lang right), nav centered ===== */
@media (max-width: 720px){
  .header-top{width:100%}
  .header-bottom{width:100%}
  nav{justify-content:center}

  /* Î™®Î∞îÏùºÏóêÏÑúÎäî ÍπÉÎ∞ú Ïà®Í∏∞Í≥† ÌÖçÏä§Ìä∏Îßå */
  .lang .flag{display:none}
  .lang button{padding:6px 10px}
}
    /* Card */
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:16px;
      padding:22px;
      box-shadow:0 18px 45px rgba(15,23,42,.85);
    }
    h1{
      margin:4px 0 4px;
      font-size:22px;
      letter-spacing:-0.02em;
    }
    p.muted{
      color:var(--muted);
      margin:0 0 10px;
      font-size:13px;
    }

    /* Grid */
    .howtouse{
      margin-top:10px;
    }
    .howtouse-grid{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:12px;
    }
    @media (max-width:1024px){
      .howtouse-grid{
        grid-template-columns:repeat(2,1fr);
      }
    }
    @media (max-width:640px){
      .howtouse-grid{
        grid-template-columns:1fr;
      }
    }

    .howtouse-item{
      position:relative;
      display:block;
      border-radius:10px;
      overflow:hidden;
      background:#0f1320;
      border:1px solid var(--border);
      aspect-ratio:1/2;          /* PC/ÌÉúÎ∏îÎ¶øÏóêÏÑú ÎÜíÏù¥ Í∑†Ïùº */
      transition:transform .18s ease-out, box-shadow .18s ease-out;
    }
    .howtouse-item img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .howtouse-item:hover{
      transform:translateY(-2px);
      box-shadow:0 14px 32px rgba(15,23,42,.9);
    }

    /* Î™®Î∞îÏùºÏóêÏÑúÎäî ÏõêÎ≥∏ ÎπÑÏú® Ïú†ÏßÄÌï¥ÎèÑ Îê® */
    @media (max-width:640px){
      .howtouse-item{
        aspect-ratio:auto;
      }
      .howtouse-item img{
        height:auto;
        object-fit:contain;
      }
    }

    footer{
      margin:30px auto 60px;
      text-align:center;
      color:var(--muted);
      font-size:14px;
    }

    @media (max-width:720px){
      header{
        flex-wrap:wrap;
        align-items:flex-start;
      }
      nav{
        justify-content:flex-start;
        margin-top:4px;
      }
    }
  
    /* ===== HowToUse Phase 2: step blocks (text only) ===== */
    .htu-steps{
      margin: 14px 0 18px;
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .htu-step{
      background:#0f1320;
      border:1px solid var(--border);
      border-radius:14px;
      padding:16px 16px 14px;
    }
    .htu-step-title{
      margin:0 0 10px;
      font-size:16px;
      line-height:1.25;
      letter-spacing:-0.01em;
    }
    .htu-step ol{
      margin: 8px 0 10px 20px;
      padding:0;
    }
    .htu-step li{
      margin: 6px 0;
    }
    .htu-note{
      margin: 8px 0;
      color: var(--muted);
      font-size: 13px;
    }
    .htu-id{
      display:inline-block;
      margin-right:8px;
      font-size:11px;
      color: var(--muted);
      opacity:.85;
      letter-spacing:.04em;
      vertical-align: baseline;
    }

  </style>
</head>
<body>
<header>
  <!-- Row 1 (mobile): brand left, language right -->
  <div class="header-top">
    <div class="brand">
      <!-- Í∏∞Ï°¥ Î°úÍ≥†/Î∏åÎûúÎìú ÎßàÌÅ¨ÏóÖÏù¥ ÏûàÏúºÎ©¥ Ïó¨Í∏∞ ÏïàÏóê Í∑∏ÎåÄÎ°ú ÎëêÏÖîÎèÑ Îê® -->
      <div class="logo" aria-hidden="true"></div>
      <strong>Measure Master</strong>
    </div>

    <div class="right">
      <div class="lang">
        <button type="button" data-lang-btn="ko">
          <span class="flag" aria-hidden="true">üá∞üá∑</span>
          <span class="label">KO</span>
        </button>
        <button type="button" data-lang-btn="en">
          <span class="flag" aria-hidden="true">üá∫üá∏</span>
          <span class="label">EN</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Row 2 (mobile): nav centered / Desktop: nav on right -->
  <div class="header-bottom">
    <nav>
      <!-- Î©îÎâ¥Îäî Ìï≠ÏÉÅ ÏòÅÏñ¥ (i18n Ï†ÅÏö© X) -->
      <a href="/index.html">Home</a>
      <a href="/howtouse.html">How to use</a>
      <a href="/reviews.html">Reviews</a>
      <a href="/privacy.html">Privacy</a>
    </nav>
  </div>
</header>


<main>
  <section class="card howtouse">
    <h1>How to use Measure Master</h1>
    <p class="muted">
      Tap or click an image to open the full-size version in a new tab.
    </p>

<div id="htuSteps" class="htu-steps"></div>

<div class="howtouse-grid">

  <a class="howtouse-item" href="/images/howtouse/1_htu_home.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/1_htu_home.jpg" alt="Step 01 - Home" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/2_htu_full.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/2_htu_full.jpg" alt="Step 02 - Full Screen" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/3_htu_side.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/3_htu_side.jpg" alt="Step 03 - Side Panel" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/4_htu_config.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/4_htu_config.jpg" alt="Step 04 - Configuration" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/5_htu_ar_guide.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/5_htu_ar_guide.jpg" alt="Step 05 - AR Guide" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/6_htu_scre1.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/6_htu_scre1.jpg" alt="Step 06 - Screen Mode 1" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/7_htu_scre2.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/7_htu_scre2.jpg" alt="Step 07 - Screen Mode 2" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/8_htu_stra.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/8_htu_stra.jpg" alt="Step 08 - Straight Mode" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/9_htu_scre3.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/9_htu_scre3.jpg" alt="Step 09 - Screen Mode 3" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/10_htu_pm_00.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/10_htu_pm_00.jpg" alt="Step 10 - Perspective Mode (Intro)" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/11_htu_pers2.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/11_htu_pers2.jpg" alt="Step 11 - Perspective Mode 2" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/12_htu_pers1.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/12_htu_pers1.jpg" alt="Step 12 - Perspective Mode 1" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/13_htu_rect.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/13_htu_rect.jpg" alt="Step 13 - Rect Mode" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/14_htu_rect2.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/14_htu_rect2.jpg" alt="Step 14 - Rect Mode 2" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/15_htu_move.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/15_htu_move.jpg" alt="Step 15 - Move Points" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/16_htu_move2.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/16_htu_move2.jpg" alt="Step 16 - Move Points 2" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/17_htu_ar_ex1_en.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/17_htu_ar_ex1_en.jpg" alt="Step 17 - AR Example" loading="lazy">
  </a>

  <a class="howtouse-item" href="/images/howtouse/18_premier.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/18_premier.jpg" alt="Step 18 - Premier" loading="lazy">
  </a>
  <a class="howtouse-item" href="/images/howtouse/19_htu_exm1_1.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/19_htu_exm1_1.jpg" alt="Step 19 - Example1-1" loading="lazy">
  </a>
  <a class="howtouse-item" href="/images/howtouse/20_htu_exm1_2.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/20_htu_exm1_2.jpg" alt="Step 20 - Example1-2" loading="lazy">
  </a>
  <a class="howtouse-item" href="/images/howtouse/21_htu_exm1_3.jpg" target="_blank" rel="noopener">
    <img src="/images/howtouse/21_htu_exm1_3.jpg" alt="Step 21 - Example1-2" loading="lazy">
  </a>

</div>

  </section>
</main>

<footer>
  ¬© <span id="year"></span> Measure Master. All rights reserved.
</footer>

<script>
  // footer year
  document.addEventListener('DOMContentLoaded', function () {
    var y = document.getElementById('year');
    if (y) y.textContent = new Date().getFullYear();
  });
</script>

<script>
  // ===== HowToUse Phase 2: prepend Step blocks from separate JSON file (text only for now) =====
  (function(){
    const JSON_URL = "/assets/data/htu_000_en.json"; // <-- your new file

    function escapeText(s){
      return String(s ?? "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function groupIntoSteps(rows){
      const steps = [];
      let cur = null;

      for (const r of rows){
        if (!r || typeof r !== "object") continue;

        if (r.kind === "step_title"){
          cur = { title: r.text ?? "", id: r.id ?? "", seq: [] };
          steps.push(cur);
          continue;
        }
        if (!cur){
          // if file starts without title, put everything into a default bucket
          cur = { title: "How to use", id: "htu_000", seq: [] };
          steps.push(cur);
        }

        cur.seq.push({
          kind: r.kind ?? "step_note",
          id: r.id ?? "",
          num: r.num,
          text: r.text ?? ""
        });
      }
      return steps;
    }

    function renderSteps(steps){
      const host = document.getElementById("htuSteps");
      if (!host) return;

      host.innerHTML = "";
      if (!steps.length) return;

      for (const st of steps){
        const box = document.createElement("section");
        box.className = "htu-step";

        const title = document.createElement("h2");
        title.className = "htu-step-title";
        title.innerHTML = (st.id ? `<span class="htu-id">${escapeText(st.id)}</span>` : "") + escapeText(st.title);
        box.appendChild(title);

        // render sequence preserving order: notes as paragraphs, bodies inside <ol>
        let ol = null;

        function flushOl(){
          if (ol){
            box.appendChild(ol);
            ol = null;
          }
        }

        for (const item of st.seq){
          if (item.kind === "step_body"){
            if (!ol){
              ol = document.createElement("ol");
            }
            const li = document.createElement("li");
            // keep numbering inside JSON (num); do NOT auto-generate based on index
            if (typeof item.num === "number"){
              li.value = item.num;
            }
            li.textContent = item.text ?? "";
            ol.appendChild(li);
          } else {
            flushOl();
            const p = document.createElement("p");
            p.className = "htu-note";
            p.textContent = item.text ?? "";
            box.appendChild(p);
          }
        }
        flushOl();

        host.appendChild(box);
      }
    }

    document.addEventListener("DOMContentLoaded", async () => {
      try{
        const res = await fetch(JSON_URL, { cache: "no-store" });
        if (!res.ok) throw new Error("HTTP " + res.status);
        const data = await res.json();

        if (!Array.isArray(data)){
          console.warn("htu json is not an array:", data);
          return;
        }

        const steps = groupIntoSteps(data);
        renderSteps(steps);
      }catch(err){
        console.warn("Failed to load HowToUse steps:", err);
      }
    });
  })();
</script>

</body>
</html>
